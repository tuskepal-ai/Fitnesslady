<!-- FILE: /de/index.html -->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fitness Lady ‚Äî Trainingsprogramme f√ºr Frauen</title>
  <meta name="description" content="Individuelle Trainingsprogramme f√ºr Frauen. Nachhaltig, alltagstauglich und auf dich abgestimmt." />

  <style>
    :root{
      --bg:#07060b;

      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.55);

      --pink:#ff4fd8;
      --pink2:#b14cff;

      --gold:#ffd38a;

      --radius:22px;
      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --max: 1180px;

      /* ‚úÖ BASE PATH kompatibilit√°s (JS √°ll√≠tja be sz√ºks√©g eset√©n) */
      --hero-url: url("/hero.png");
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(1200px 700px at 30% 10%, rgba(255,79,216,.16), transparent 60%),
        radial-gradient(1000px 700px at 75% 20%, rgba(177,76,255,.14), transparent 60%),
        radial-gradient(1000px 700px at 60% 90%, rgba(255,211,138,.06), transparent 55%),
        var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }

    /* ===== FULL-PAGE BACKGROUND: hero.png v√©gig az eg√©sz oldalon ===== */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      background-image: var(--hero-url);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: translateZ(0);
    }

    a{ color:inherit; text-decoration:none; }
    button{ font:inherit; }

    /* ========= Layout helpers ========= */
    .container{
      width: min(var(--max), 92vw);
      margin: 0 auto;
    }
    .section{
      padding: clamp(44px, 6vw, 76px) 0;
      background: rgba(7,6,11,.72);
      border-top: 1px solid rgba(255,255,255,.06);
    }
    .section-title{
      margin:0 0 10px;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      font-size: clamp(28px, 3.4vw, 40px);
      letter-spacing: -.4px;
    }
    .section-sub{
      margin:0 0 22px;
      color:var(--muted);
      max-width: 78ch;
      line-height: 1.6;
      font-size: 15px;
    }

    /* ========= Topbar ========= */
    .topbar{
      position: fixed;
      top:0; left:0; right:0;
      z-index: 50;
      background: rgba(8,6,12,.55);
      border-bottom: 1px solid rgba(255,255,255,.06);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    .topbar-inner{
      height: 64px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:800;
      letter-spacing:.2px;
      white-space: nowrap;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #ffd0f6, var(--pink));
      box-shadow: 0 0 18px rgba(255,79,216,.7);
      flex: 0 0 auto;
    }

    .nav{
      display:flex;
      align-items:center;
      gap: 18px;
      color: var(--muted);
      font-size: 14px;
      font-weight: 650;
    }
    .nav a{
      position: relative;
      padding: 10px 6px;
      opacity:.92;
    }
    .nav a:hover{ opacity:1; color: var(--text); }

    .nav a::after{
      content:"";
      position:absolute;
      left: 8px; right: 8px; bottom: 6px;
      height: 2px;
      border-radius: 99px;
      background: linear-gradient(90deg, rgba(255,215,140,0), rgba(255,215,140,.9), rgba(255,215,140,0));
      transform: scaleX(0);
      transform-origin: left;
      opacity: 0;
      transition: transform .28s ease, opacity .28s ease;
    }
    .nav a:hover::after,
    .nav a.is-active::after{
      transform: scaleX(1);
      opacity: 1;
    }

    .cta-pill{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#120613;
      font-weight: 900;
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 14px 30px rgba(255,79,216,.22);
      white-space: nowrap;
    }

    .menu-btn{
      width: 40px; height: 40px; border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      display:none;
      align-items:center; justify-content:center;
    }

    /* ========= Lang switch ========= */
    .lang-switch{
      display:flex;
      align-items:center;
      gap:8px;
      padding:6px 12px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .lang-switch .lang{
      font-size:13px;
      font-weight:900;
      letter-spacing:.4px;
      color: rgba(255,255,255,.55);
      transition: color .18s ease, transform .18s ease;
      cursor:pointer;
      user-select:none;
    }
    .lang-switch .lang:hover{ color: rgba(255,255,255,.88); transform: translateY(-1px); }
    .lang-switch .lang.active{ color:#fff; }
    .lang-switch .sep{ color: rgba(255,255,255,.35); }

    /* ========= Hero ========= */
    .hero{
      position: relative;
      min-height: 100vh;
      min-height: 100dvh;
      padding-top: 64px;
      display:flex;
      align-items:center;
      overflow: hidden;
    }

    .hero-overlay{
      position:absolute; inset:0;
      background:
        radial-gradient(1100px 700px at 22% 42%, rgba(10,7,14,.18), rgba(10,7,14,.56) 62%, rgba(10,7,14,.72) 100%),
        linear-gradient(to right, rgba(10,7,14,.48), rgba(10,7,14,.30) 48%, rgba(10,7,14,.22));
      pointer-events:none;
    }

    .hero-wrap{
      position: relative;
      width: min(var(--max), 92vw);
      margin-left: clamp(14px, 4vw, 64px);
      margin-right: auto;
      padding: 38px 0 56px;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 18px;
      align-items: start;
    }

    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size: 13px;
      width: fit-content;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    h1{
      margin: 14px 0 12px;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      font-weight: 700;
      line-height: 1.05;
      font-size: clamp(34px, 4.2vw, 62px);
      letter-spacing: -0.8px;
      text-shadow: 0 10px 40px rgba(0,0,0,.55);
    }

    .lead{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 15.5px;
      line-height: 1.65;
      max-width: 62ch;
      text-shadow: 0 10px 30px rgba(0,0,0,.45);
    }

    .hero-actions{
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
      margin: 14px 0 10px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(20,12,26,.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: var(--text);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      cursor:pointer;
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.20); }
    .btn.primary{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#140813;
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 18px 46px rgba(255,79,216,.26);
      font-weight: 900;
    }
    .btn.ghost{ background: rgba(255,255,255,.06); }

    .meta-row{
      display:flex; flex-wrap:wrap;
      gap: 10px;
      margin-top: 10px;
      color: var(--muted2);
      font-size: 13px;
    }
    .meta-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .glass{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    .interactive{
      position: relative;
      overflow: hidden;
      transition: transform .30s cubic-bezier(.2,.8,.2,1), box-shadow .30s ease, border-color .30s ease;
      will-change: transform;
    }

    .interactive::before{
      content:"";
      position:absolute; inset:-3px;
      border-radius: inherit;
      background:
        radial-gradient(700px 240px at 12% 0%, rgba(255,79,216,.32), transparent 55%),
        radial-gradient(700px 260px at 90% 20%, rgba(177,76,255,.26), transparent 60%);
      opacity: 0;
      filter: blur(6px);
      transition: opacity .30s ease;
      pointer-events:none;
    }

    .interactive:hover,
    .interactive:focus-visible,
    .interactive.is-active{
      transform: translateY(-6px);
      border-color: rgba(255,255,255,.16);
      box-shadow: 0 22px 70px rgba(0,0,0,.55);
    }
    .interactive:hover::before,
    .interactive:focus-visible::before,
    .interactive.is-active::before{
      opacity: 1;
    }

    .hero-stack{
      display:grid;
      gap: 14px;
      align-content: start;
    }

    .about-card, .what-card{ padding: 18px; }
    .about-head{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom:10px;
    }
    .tag{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      color: var(--muted);
      white-space: nowrap;
      font-weight: 800;
    }
    .about-title{
      margin:0;
      font-size: 16px;
      font-weight: 900;
      letter-spacing:.2px;
    }
    .about-text{
      margin:0;
      color: var(--muted);
      font-size: 13.5px;
      line-height: 1.6;
      white-space: pre-wrap;
    }

    .what-grid{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 10px;
    }
    .mini{
      padding: 14px;
      border-radius: 18px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.10);
    }
    .mini b{ display:block; margin-bottom:6px; font-size: 13px; }
    .mini span{ display:block; color:var(--muted); font-size: 12.8px; line-height:1.45; }

    .packages{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    @media (max-width: 980px){
      .packages{ grid-template-columns: 1fr; }
    }
    .pkg{ padding: 18px; position: relative; }
    .pkg-top{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom: 10px;
    }
    .pkg h3{
      margin:0;
      font-size: 22px;
      font-family: ui-serif, Georgia, serif;
    }
    .pkg p{
      margin: 0 0 12px;
      color: var(--muted);
      line-height: 1.6;
      font-size: 13.5px;
    }
    .list{ margin:0; padding:0; list-style:none; display:grid; gap:8px; }
    .list li{
      display:flex; align-items:flex-start; gap:10px;
      color: var(--muted);
      font-size: 13px;
    }
    .check{
      width: 18px; height: 18px; border-radius: 6px;
      background: rgba(255,79,216,.18);
      border: 1px solid rgba(255,79,216,.30);
      box-shadow: 0 0 22px rgba(255,79,216,.16);
      flex: 0 0 auto;
      margin-top: 1px;
      position:relative;
    }
    .check:after{
      content:"";
      position:absolute;
      left: 5px; top: 4px;
      width: 6px; height: 9px;
      border-right: 2px solid rgba(255,255,255,.85);
      border-bottom: 2px solid rgba(255,255,255,.85);
      transform: rotate(40deg);
    }

    .pkg-actions{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 14px;
    }
    .buy-btn{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:#140813;
      border:none;
      box-shadow: 0 18px 46px rgba(255,79,216,.20);
      font-weight: 900;
    }
    .info-btn{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      font-weight: 850;
    }

    .reviews-head{
      display:flex;
      align-items:flex-end;
      justify-content: space-between;
      gap: 14px;
      flex-wrap: wrap;
      margin-bottom: 14px;
    }
    .reviews-actions{ display:flex; gap:10px; flex-wrap:wrap; }

    .rating{
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    .rating .star{
      font-size:16px;
      line-height:1;
      color: rgba(255,255,255,.25);
      transform: translateY(0) scale(1);
      transition: transform .25s ease, filter .25s ease, color .25s ease;
      transition-delay: calc(var(--i) * 18ms);
    }
    .rating .rating-text{
      font-size: 13px;
      opacity: .78;
      font-weight: 850;
      letter-spacing: .2px;
    }
    .rating.is-anim .star,
    .rating:hover .star{
      color: rgba(255, 215, 130, .95);
      filter: drop-shadow(0 0 10px rgba(255, 200, 120, .35));
    }
    .rating.is-anim .star{
      animation: starPop .55s cubic-bezier(.2,.8,.2,1) both;
      animation-delay: calc(var(--i) * 40ms);
    }
    @keyframes starPop{
      0%   { transform: translateY(2px) scale(.92); filter: none; }
      45%  { transform: translateY(-2px) scale(1.10); }
      100% { transform: translateY(0) scale(1.00); }
    }

    .review-carousel{ border-radius: var(--radius); }
    .review-track{
      display:flex;
      gap:14px;
      padding: 10px;
      scroll-snap-type: x mandatory;
      overflow-x:auto;
      scroll-behavior:smooth;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .review-track::-webkit-scrollbar{ display:none; }

    .review-card{
      min-width: min(440px, 86vw);
      scroll-snap-align: start;
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      padding: 16px;
      position: relative;
      overflow:hidden;
    }
    .review-card .top{
      display:flex;
      justify-content: space-between;
      gap: 12px;
      align-items:center;
      color: var(--muted2);
      font-size: 12px;
      margin-bottom: 10px;
      white-space: nowrap;
    }
    .review-card .text{
      margin: 0 0 12px;
      color: rgba(255,255,255,.92);
      line-height: 1.55;
      font-size: 14px;
      white-space: pre-wrap;
      word-break: break-word;
    }
    .review-card .stars{
      color: rgba(255,255,255,.86);
      letter-spacing: 1px;
      font-size: 13px;
    }

    .review-dots{
      display:flex;
      justify-content:center;
      gap:8px;
      padding: 8px 0 2px;
    }
    .review-dot{
      width:7px; height:7px;
      border-radius:999px;
      background: rgba(255,255,255,.18);
      transition: transform .2s ease, background .2s ease;
    }
    .review-dot.is-active{
      background: rgba(255, 215, 130, .9);
      transform: scale(1.35);
    }

    .reveal{
      opacity: 0;
      transform: translateY(16px) scale(.995);
      transition: opacity .75s ease,
                  transform .75s cubic-bezier(.2,.8,.2,1);
      will-change: opacity, transform;
    }
    .reveal.is-visible{
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    .reveal[data-delay="1"]{ transition-delay: 80ms; }
    .reveal[data-delay="2"]{ transition-delay: 160ms; }
    .reveal[data-delay="3"]{ transition-delay: 240ms; }

    body.is-scrolling .interactive::before{
      opacity: 0 !important;
    }
    body.is-scrolling .interactive{
      transition: none !important;
    }
    body.is-scrolling .glass,
    body.is-scrolling .review-card{
      box-shadow: 0 10px 30px rgba(0,0,0,.38) !important;
    }

    @media (max-width: 980px){
      .topbar{ backdrop-filter:none; -webkit-backdrop-filter:none; }
      .badge, .btn, .meta-pill, .glass, .rating{
        backdrop-filter:none !important;
        -webkit-backdrop-filter:none !important;
      }
    }

    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      .reveal{ opacity:1; transform:none; transition:none; }
      .review-track{ scroll-behavior:auto; }
      .rating .star{ transition:none; animation:none !important; }
      .interactive, .btn{ transition:none; }
    }

    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      .menu-btn{ display:inline-flex; }
      .nav{ display:none; }
      .what-grid{ grid-template-columns: 1fr; }
      .hero-wrap{ margin-left: auto; margin-right: auto; }
    }

    .modal-overlay{
      position: fixed;
      inset: 0;
      z-index: 80;
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
    }
    .modal-overlay.is-open{ display: flex; }

    .modal{
      width: min(980px, 94vw);
      max-height: min(78vh, 720px);
      border-radius: var(--radius);
      overflow: hidden;
      position: relative;
    }

    .modal-header{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      background: rgba(10,8,14,.45);
    }
    .modal-title{
      margin:0;
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      font-size: 20px;
      letter-spacing: -.2px;
    }
    .modal-close{
      width: 40px; height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.9);
      cursor: pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    .modal-body{
      padding: 16px;
      overflow: auto;
      max-height: calc(min(78vh, 720px) - 64px);
      background: rgba(7,6,11,.38);
    }

    .modal-body h3{
      margin: 16px 0 8px;
      font-size: 16px;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .modal-body p, .modal-body li{
      margin: 0 0 10px;
      color: var(--muted);
      line-height: 1.6;
      font-size: 13.5px;
    }
    .modal-body ul{ margin: 0 0 10px 18px; padding: 0; }
    .modal-body b{ color: rgba(255,255,255,.90); }

    body.modal-lock{
      overflow: hidden;
      touch-action: none;
    }
  </style>
</head>

<body>
  <!-- TOP BAR -->
  <header class="topbar">
    <div class="container topbar-inner">
      <a class="brand" href="#top" aria-label="Fitness Lady">
        <span class="dot"></span>
        <span>Fitness Lady</span>
      </a>

      <nav class="nav" aria-label="Hauptmen√º">
        <a href="#pakete">Pakete</a>
        <a href="#ablauf">Wie es funktioniert</a>
        <a href="#bewertungen">Bewertungen</a>
        <a href="#agb">AGB</a>
      </nav>

      <div style="display:flex; align-items:center; gap:10px;">
        <button class="menu-btn" id="menuBtn" aria-label="Men√º">‚ò∞</button>

        <div class="lang-switch" aria-label="Sprachauswahl">
          <a class="lang" data-route="/hu/" href="/hu/" onclick="localStorage.setItem('lang','hu')">HU</a>
          <span class="sep">¬∑</span>
          <a class="lang active" data-route="/de/" href="/de/" onclick="localStorage.setItem('lang','de')">DE</a>
        </div>

        <a class="btn interactive" data-route="/de/login/" href="/de/login/" style="padding:10px 14px;">Mein Bereich</a>

        <a class="cta-pill" href="#kontakt">Kostenlose Beratung</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <main id="top" class="hero">
    <div class="hero-overlay" aria-hidden="true"></div>

    <div class="hero-wrap">
      <div class="hero-grid">
        <div class="reveal">
          <div class="badge">‚ú® Premium Training ‚Ä¢ f√ºr Frauen</div>

          <h1>Trainingsprogramme,<br>die du wirklich durchziehst.</h1>

          <p class="lead">
            Kein Chaos. Kein √úberfordern. Struktur und Begleitung ‚Äì passend zu deinem Alltag,
            damit du Ergebnisse siehst und dranbleibst.
          </p>

          <div class="hero-actions">
            <a class="btn primary interactive" href="#kontakt">Kostenlose Beratung</a>
            <a class="btn interactive" href="#pakete">Pakete</a>

            <a class="btn interactive" data-route="/de/login/" href="/de/login/">Mein Bereich</a>

            <a class="btn ghost interactive" href="https://tally.so/r/LZpRXG" target="_blank" rel="noopener">Bewertung schreiben</a>
          </div>

          <div class="meta-row">
            <div class="meta-pill">üìç Schweiz</div>
            <div class="meta-pill">‚è±Ô∏è Online ‚Ä¢ individuell</div>
            <div class="meta-pill">üí¨ Instagram: @fitnesslady</div>
          </div>
        </div>

        <div class="hero-stack">
          <div class="glass interactive about-card reveal" data-delay="1">
            <div class="about-head">
              <div class="about-title">√úber mich</div>
              <div class="tag">Edina</div>
            </div>
            <p class="about-text" id="aboutText">
Ich baue nicht nur Formen ‚Äì ich baue Vertrauen, Struktur und langfristige Ergebnisse.

Ich bin Edina, die Gr√ºnderin von Fitness Lady. Ich glaube daran, dass der K√∂rper eine Ressource ist: Mit der richtigen Richtung, Bewusstsein und einem klaren System entstehen sichtbare und nachhaltige Ver√§nderungen.

Fitness Lady steht f√ºr einen Ansatz, bei dem Training nicht isoliert ist, sondern Teil eines Gesamtsystems: Lebensstil, mentale Balance und Konsequenz.

Meine Programme sind f√ºr Frauen, die sich entwickeln wollen, Struktur sch√§tzen und L√∂sungen suchen, die im echten Alltag funktionieren.

Hier arbeiten wir nicht mit Schablonen ‚Äì sondern mit einem pers√∂nlichen Plan und sauberem Aufbau.

Edina ‚Ä¢ Fitness Lady
            </p>
          </div>

          <div class="glass interactive what-card reveal" data-delay="2">
            <div class="about-head">
              <div class="about-title">Was du bekommst</div>
              <div class="tag">Premium System</div>
            </div>

            <div class="what-grid">
              <div class="mini">
                <b>Training</b>
                <span>Wochenplan + Progression. Klar, realistisch, nachhaltig.</span>
              </div>
              <div class="mini">
                <b>Ern√§hrung</b>
                <span>Einfaches System ‚Äì an deinen Alltag angepasst.</span>
              </div>
              <div class="mini">
                <b>Support</b>
                <span>Feedback, Feintuning, Begleitung.</span>
              </div>
              <div class="mini">
                <b>Fokus</b>
                <span>Form ‚Ä¢ Kraft ‚Ä¢ Wohlbefinden ‚Äì zielorientiert.</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <section id="pakete" class="section">
    <div class="container">
      <div class="section-title reveal">Pakete</div>
      <p class="section-sub reveal" data-delay="1">
        W√§hle nach Ziel und Zeit. Premium Look, klare Struktur, stabiler Ablauf.
      </p>

      <div class="packages">
        <article class="glass interactive pkg reveal" data-delay="1">
          <div class="pkg-top">
            <h3>Start</h3>
            <span class="tag">4 Wochen</span>
          </div>
          <p>Wenn du einen klaren Plan und Momentum brauchst.</p>
          <ul class="list">
            <li><span class="check"></span> Individueller Trainingsplan</li>
            <li><span class="check"></span> Ern√§hrungs-Grundsystem</li>
            <li><span class="check"></span> 1√ó Anpassung</li>
          </ul>
          <div class="pkg-actions">
            <a class="btn buy-btn interactive"
               href="https://buy.stripe.com/test_7sY4gzcfH5pDaRXbBW0RG00"
               target="_blank"
               rel="noopener"
               aria-label="Bezahlung (Start)">Kaufen</a>
            <a class="btn info-btn interactive" href="#kontakt">Beratung</a>
          </div>
        </article>

        <article class="glass interactive pkg reveal" data-delay="2" style="border-color: rgba(255,79,216,.22);">
          <div class="pkg-top">
            <h3>Balance</h3>
            <span class="tag" style="color:#1b0717;background:linear-gradient(135deg,#ffd8a8,#ff88e6);border-color:rgba(255,255,255,.25);">Beliebt</span>
          </div>
          <p>Form + Kraft, mit regelm√§√üiger Betreuung.</p>
          <ul class="list">
            <li><span class="check"></span> System (6 Wochen)</li>
            <li><span class="check"></span> 4 Videos pro Woche</li>
            <li><span class="check"></span> W√∂chentliches Feintuning</li>
          </ul>
          <div class="pkg-actions">
            <a class="btn buy-btn interactive"
               href="https://buy.stripe.com/test_5kQ3cv2F7dW9aRX49u0RG01"
               target="_blank"
               rel="noopener"
               aria-label="Bezahlung (Balance)">Kaufen</a>
            <a class="btn info-btn interactive" href="#kontakt">Beratung</a>
          </div>
        </article>

        <article class="glass interactive pkg reveal" data-delay="3">
          <div class="pkg-top">
            <h3>Pro</h3>
            <span class="tag">12 Wochen</span>
          </div>
          <p>Maximale Begleitung ‚Äì ohne √úberforderung.</p>
          <ul class="list">
            <li><span class="check"></span> Volle Personalisierung (3 Slots)</li>
            <li><span class="check"></span> 5 Videos pro Woche</li>
            <li><span class="check"></span> H√§ufigere Check-ins</li>
          </ul>
          <div class="pkg-actions">
            <a class="btn buy-btn interactive"
               href="https://buy.stripe.com/test_14AdR993v7xL3pv6hC0RG03"
               target="_blank"
               rel="noopener"
               aria-label="Bezahlung (Pro)">Kaufen</a>
            <a class="btn info-btn interactive" href="#kontakt">Beratung</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section id="ablauf" class="section">
    <div class="container">
      <div class="section-title reveal">Wie es funktioniert</div>
      <p class="section-sub reveal" data-delay="1">Einfach, klar und alltagstauglich.</p>

      <div class="packages" style="grid-template-columns: 1fr 1fr;">
        <article class="glass interactive pkg reveal" data-delay="1">
          <div class="pkg-top">
            <h3>Training</h3>
            <span class="tag">Struktur</span>
          </div>
          <ul class="list">
            <li><span class="check"></span> √úbungen + klare Anleitung</li>
            <li><span class="check"></span> Progression ‚Äì wann du steigerst</li>
            <li><span class="check"></span> Wochenplan je Paket</li>
            <li><span class="check"></span> Nachhaltige Belastung</li>
          </ul>
        </article>

        <article class="glass interactive pkg reveal" data-delay="2">
          <div class="pkg-top">
            <h3>Ern√§hrung</h3>
            <span class="tag">Umsetzbar</span>
          </div>
          <ul class="list">
            <li><span class="check"></span> Einfaches System</li>
            <li><span class="check"></span> Anpassung an deinen Alltag</li>
            <li><span class="check"></span> Regelm√§√üiges Feintuning</li>
            <li><span class="check"></span> Stabilere Energie</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <section id="bewertungen" class="section">
    <div class="container">
      <div class="reviews-head reveal">
        <div>
          <div class="section-title" style="margin-bottom:6px;">Bewertungen</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
            <div class="rating" id="avgRating" title="Klicken f√ºr Animation" aria-label="Durchschnittsbewertung">
              <span class="star" style="--i:1">‚òÖ</span>
              <span class="star" style="--i:2">‚òÖ</span>
              <span class="star" style="--i:3">‚òÖ</span>
              <span class="star" style="--i:4">‚òÖ</span>
              <span class="star" style="--i:5">‚òÖ</span>
              <span class="rating-text" id="avgText">‚Äî</span>
            </div>
            <span style="color:var(--muted2); font-size:13px;" id="reviewsMeta">Laden‚Ä¶</span>
          </div>
        </div>

        <div class="reviews-actions">
          <a class="btn primary interactive" href="https://tally.so/r/LZpRXG" target="_blank" rel="noopener">Bewertung schreiben</a>
          <button class="btn interactive" id="refreshBtn" type="button">Aktualisieren</button>
        </div>
      </div>

      <div class="glass interactive review-carousel reveal" data-delay="1" id="reviewCarousel">
        <div class="review-track" id="reviewTrack" aria-label="Bewertungen Carousel">
          <article class="review-card">
            <div class="top">
              <span>Laden‚Ä¶</span>
              <span> </span>
            </div>
            <p class="text">Bewertungen werden geladen.</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          </article>
        </div>
        <div class="review-dots" id="reviewDots" aria-hidden="true"></div>
      </div>
    </div>
  </section>

  <section id="agb" class="section">
    <div class="container">
      <div class="section-title reveal">AGB</div>
      <p class="section-sub reveal" data-delay="1">
        Die Allgemeinen Gesch√§ftsbedingungen √∂ffnen sich in einem Premium-Modal.
      </p>

      <div class="glass interactive pkg reveal" data-delay="2">
        <div class="pkg-top">
          <h3>Allgemeine Gesch√§ftsbedingungen</h3>
          <span class="tag">Modal</span>
        </div>
        <p>F√ºr die Details bitte klicken.</p>
        <div class="pkg-actions" style="grid-template-columns: 1fr;">
          <button class="btn primary interactive" id="openAfszBtn" type="button" aria-haspopup="dialog" aria-controls="afszModalOverlay">
            AGB √∂ffnen
          </button>
        </div>
      </div>
    </div>
  </section>

  <section id="kontakt" class="section">
    <div class="container">
      <div class="section-title reveal">Kontakt</div>
      <p class="section-sub reveal" data-delay="1">F√ºr eine kostenlose Beratung: WhatsApp oder Instagram.</p>

      <div class="glass interactive pkg reveal" data-delay="2" style="display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between;">
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <a class="btn interactive" href="#" onclick="alert('Hier kommt dein WhatsApp-Link rein'); return false;">WhatsApp</a>
          <a class="btn interactive" href="#" onclick="alert('Hier kommt dein Instagram-Link rein'); return false;">Instagram</a>
        </div>
        <div style="color:var(--muted); font-size:13px;">
          üìç Schweiz ‚Ä¢ Online ‚Ä¢ @fitnesslady
        </div>
      </div>
    </div>
  </section>

  <!-- AGB MODAL -->
  <div class="modal-overlay" id="afszModalOverlay" role="dialog" aria-modal="true" aria-labelledby="afszModalTitle" aria-hidden="true">
    <div class="glass modal" role="document">
      <div class="modal-header">
        <h2 class="modal-title" id="afszModalTitle">Allgemeine Gesch√§ftsbedingungen (AGB)</h2>
        <button class="modal-close interactive" id="closeAfszBtn" type="button" aria-label="Schlie√üen">‚úï</button>
      </div>

      <div class="modal-body" id="afszModalBody">
        <p><b>G√ºltig ab:</b> 2026-02-10</p>
        <p><b>Website / Marke:</b> FitnessLady</p>
        <p><b>Anbieter:</b> T√ºske Farkas Edina (FitnessLady)</p>
        <p><b>Sitz:</b> 3930 Visp, Mondstrasse 6, Schweiz</p>
        <p><b>E-Mail:</b> fitnesslady92@gmail.com</p>
        <p><b>W√§hrung:</b> HUF und CHF</p>
        <p><b>Zahlungsmethoden:</b> internationale √úberweisung, TWINT, Payrexx</p>

        <h3>1. Leistungsbeschreibung</h3>
        <p>
          FitnessLady bietet Online-Fitness- und Lifestyle-Inhalte (z. B. Trainingsvideos, Trainingspl√§ne, Ern√§hrungsstruktur).
          Der Zugang wird nach Registrierung und Login bereitgestellt.
        </p>

        <h3>2. Bestellung & Zugriff</h3>
        <ul>
          <li>Einmalige Paketbuchung (Start / Balance / Pro).</li>
          <li>Nach dem Kauf registriert sich der Kunde (E-Mail + Passwort).</li>
          <li>Die Freischaltung erfolgt sp√§testens innerhalb von 24 Stunden.</li>
        </ul>

        <h3>3. Haftung & Gesundheitshinweis</h3>
        <p>
          Training erfolgt auf eigene Verantwortung. Vor Trainingsbeginn wird eine √§rztliche Abkl√§rung empfohlen,
          insbesondere bei bestehenden Beschwerden.
        </p>

        <h3>4. Widerruf / R√ºckerstattung</h3>
        <p>
          Bei digitalen Inhalten / Online-Zug√§ngen gelten die gesetzlichen Regeln. Kulanzl√∂sungen k√∂nnen individuell
          vereinbart werden (z. B. bei technischen Problemen).
        </p>

        <h3>5. Kontakt</h3>
        <p>Support / Kontakt: <b>fitnesslady92@gmail.com</b></p>

        <p style="margin-top:14px; color:var(--muted2); font-size:12.8px;">
          T√ºske web design
        </p>
      </div>
    </div>
  </div>

  <footer style="padding: 18px 0 60px; border-top:1px solid rgba(255,255,255,.08); background: rgba(10,8,14,.55);">
    <div class="container" style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; color:rgba(255,255,255,.70); font-size:13px;">
      <div>¬© <span id="y"></span> Fitness Lady</div>
      <div>T√ºske web design</div>
    </div>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    /* =========================================================
      ‚úÖ BASE PATH FIX
      - custom domainon base = ""
      - github.io-n base = "/Fitnesslady"
      Ett≈ël lesz j√≥ minden /de/login/ √©s a /hero.png is.
    ========================================================== */
    (function applyBasePath(){
      const isGitHub = location.hostname.endsWith("github.io");
      const base = isGitHub ? "/Fitnesslady" : "";
      window.__BASE_PATH = base;

      if(base){
        document.documentElement.style.setProperty("--hero-url", `url("${base}/hero.png")`);
      }

      document.querySelectorAll("[data-route]").forEach(a=>{
        const route = a.getAttribute("data-route");
        if(!route) return;
        a.setAttribute("href", base + route);
      });
    })();

    /* ===== Scroll performance: glow/hover anim OFF scroll k√∂zben (AZ √úVEG MARAD) ===== */
    (() => {
      let t = null;
      const onScroll = () => {
        if(!document.body.classList.contains('is-scrolling')) {
          document.body.classList.add('is-scrolling');
        }
        window.clearTimeout(t);
        t = window.setTimeout(() => {
          document.body.classList.remove('is-scrolling');
        }, 140);
      };
      window.addEventListener('scroll', onScroll, { passive: true });
    })();

    /* ========= Mobile menu ========= */
    const menuBtn = document.getElementById("menuBtn");
    let open = false;

    menuBtn?.addEventListener("click", () => {
      open = !open;
      if(open){
        const nav = document.createElement("div");
        nav.id = "mobileNav";
        nav.style.position = "fixed";
        nav.style.top = "64px";
        nav.style.left = "14px";
        nav.style.right = "14px";
        nav.style.zIndex = "60";
        nav.style.background = "rgba(20,12,26,.72)";
        nav.style.border = "1px solid rgba(255,255,255,.10)";
        nav.style.borderRadius = "18px";
        nav.style.boxShadow = "0 20px 70px rgba(0,0,0,.55)";
        nav.style.padding = "12px";

        const base = window.__BASE_PATH || "";
        nav.innerHTML = `
          <a href="#pakete" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">Pakete</a>
          <a href="#ablauf" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">Wie es funktioniert</a>
          <a href="#bewertungen" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">Bewertungen</a>
          <a href="#agb" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">AGB</a>
          <a href="#kontakt" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">Kontakt</a>
          <a href="${base}/de/login/" style="display:block; padding:10px 10px; color:rgba(255,255,255,.86)">Mein Bereich</a>
        `;
        document.body.appendChild(nav);
      } else {
        document.getElementById("mobileNav")?.remove();
      }
    });

    document.addEventListener("click", (e) => {
      const nav = document.getElementById("mobileNav");
      if(!nav) return;
      if(e.target === menuBtn) return;
      if(nav.contains(e.target)) {
        nav.remove();
        open = false;
      }
    });

    /* ========= Touch ‚Äúactive‚Äù glow ========= */
    function enableTapGlow(selector=".interactive"){
      document.querySelectorAll(selector).forEach(el=>{
        el.addEventListener("touchstart", ()=>{
          el.classList.add("is-active");
          window.clearTimeout(el.__t);
          el.__t = window.setTimeout(()=>el.classList.remove("is-active"), 650);
        }, {passive:true});
      });
    }
    enableTapGlow();

    /* ========= Scroll reveal ========= */
    (() => {
      const els = document.querySelectorAll('.reveal');
      if(!els.length) return;
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            e.target.classList.add('is-visible');
            io.unobserve(e.target);
          }
        });
      }, { threshold: 0.12, rootMargin: "0px 0px -10% 0px" });
      els.forEach(el=>io.observe(el));
    })();

    /* ========= Active nav underline based on scroll ========= */
    (() => {
      const links = Array.from(document.querySelectorAll('.nav a'))
        .filter(a=>a.getAttribute('href')?.startsWith('#'));
      const sections = links
        .map(a => document.querySelector(a.getAttribute('href')))
        .filter(Boolean);

      if(!sections.length) return;

      const setActive = (id) => {
        links.forEach(a => a.classList.toggle('is-active', a.getAttribute('href') === `#${id}`));
      };

      const io = new IntersectionObserver((entries)=>{
        const visible = entries.filter(e=>e.isIntersecting).sort((a,b)=>b.intersectionRatio-a.intersectionRatio)[0];
        if(visible?.target?.id) setActive(visible.target.id);
      }, { threshold: [0.2, 0.35, 0.5] });

      sections.forEach(s=>io.observe(s));
    })();

    /* ========= Rating animation (tap/click) ========= */
    (() => {
      const r = document.getElementById('avgRating');
      if(!r) return;
      const kick = () => {
        r.classList.remove('is-anim');
        void r.offsetWidth;
        r.classList.add('is-anim');
      };
      r.addEventListener('click', kick);
      r.addEventListener('touchstart', kick, {passive:true});
    })();

    /* ========= AGB MODAL LOGIC ========= */
    (() => {
      const openBtn = document.getElementById('openAfszBtn');
      const overlay = document.getElementById('afszModalOverlay');
      const closeBtn = document.getElementById('closeAfszBtn');
      let lastFocus = null;

      if(!openBtn || !overlay || !closeBtn) return;

      const openModal = () => {
        lastFocus = document.activeElement;
        overlay.classList.add('is-open');
        overlay.setAttribute('aria-hidden', 'false');
        document.body.classList.add('modal-lock');
        closeBtn.focus({ preventScroll: true });
      };

      const closeModal = () => {
        overlay.classList.remove('is-open');
        overlay.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('modal-lock');
        if(lastFocus && typeof lastFocus.focus === 'function') lastFocus.focus({ preventScroll: true });
      };

      openBtn.addEventListener('click', openModal);
      closeBtn.addEventListener('click', closeModal);

      overlay.addEventListener('click', (e) => {
        if(e.target === overlay) closeModal();
      });

      document.addEventListener('keydown', (e) => {
        if(overlay.classList.contains('is-open') && e.key === 'Escape') closeModal();
      });
    })();

    /* ========= Reviews ========= */
    const SHEET_CSV_URL =
      "https://docs.google.com/spreadsheets/d/e/2PACX-1vSlH-tTccqy_yetPGUaqZ3wULe74ZVSzCX6wA7kZV-iWDu0l1I4_IBjTFggNS2xpZFqQwTXj3mnZeag/pub?gid=0&single=true&output=csv";

    const reviewTrack = document.getElementById('reviewTrack');
    const reviewDots  = document.getElementById('reviewDots');
    const refreshBtn  = document.getElementById('refreshBtn');
    const avgText     = document.getElementById('avgText');
    const reviewsMeta = document.getElementById('reviewsMeta');

    function escapeHtml(s) {
      return String(s ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
    function normalize(s){ return String(s ?? "").trim().toLowerCase(); }

    function parseCSV(text){
      const rows = [];
      let row = [];
      let cur = "";
      let inQuotes = false;

      for(let i=0;i<text.length;i++){
        const c = text[i];
        const n = text[i+1];

        if(c === '"' && inQuotes && n === '"'){ cur += '"'; i++; continue; }
        if(c === '"'){ inQuotes = !inQuotes; continue; }

        if(c === ',' && !inQuotes){ row.push(cur); cur=""; continue; }
        if((c === '\n' || c === '\r') && !inQuotes){
          if(c === '\r' && n === '\n') i++;
          row.push(cur);
          rows.push(row);
          row = [];
          cur = "";
          continue;
        }
        cur += c;
      }
      if(cur.length || row.length){ row.push(cur); rows.push(row); }
      return rows;
    }

    function findHeaderIndex(headers, predicate){
      for(let i=0;i<headers.length;i++){
        if(predicate(normalize(headers[i]))) return i;
      }
      return -1;
    }

    function stars(n){
      const num = Number(n);
      if(!Number.isFinite(num)) return "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ";
      const r = Math.max(1, Math.min(5, Math.round(num)));
      return "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ".slice(0, r) + "‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ".slice(0, 5-r);
    }

    let carouselController = null;

    function destroyCarousel(){
      if(carouselController?.destroy) carouselController.destroy();
      carouselController = null;
      reviewDots.innerHTML = "";
    }

    function initCarousel(){
      const cards = Array.from(reviewTrack.querySelectorAll('.review-card'));
      reviewDots.innerHTML = "";
      if(!cards.length) return;

      const dots = cards.map((_, i) => {
        const d = document.createElement('div');
        d.className = 'review-dot';
        d.addEventListener('click', () => scrollToIndex(i));
        reviewDots.appendChild(d);
        return d;
      });

      let idx = 0;
      let timer = null;
      let paused = false;
      let scrollTick = null;

      function updateDots(){
        dots.forEach((d,i)=>d.classList.toggle('is-active', i===idx));
      }

      function scrollToIndex(i){
        idx = (i + cards.length) % cards.length;
        reviewTrack.scrollTo({
          left: cards[idx].offsetLeft - reviewTrack.offsetLeft,
          behavior: 'smooth'
        });
        updateDots();
      }

      reviewTrack.addEventListener('scroll', () => {
        clearTimeout(scrollTick);
        scrollTick = setTimeout(() => {
          const center = reviewTrack.scrollLeft + reviewTrack.clientWidth * 0.2;
          let nearest = 0, best = Infinity;
          cards.forEach((c,i)=>{
            const dist = Math.abs((c.offsetLeft - reviewTrack.offsetLeft) - center);
            if(dist < best){ best = dist; nearest = i; }
          });
          idx = nearest;
          updateDots();
        }, 80);
      }, {passive:true});

      function start(){
        if(timer) clearInterval(timer);
        timer = setInterval(()=>{
          if(paused) return;
          scrollToIndex(idx + 1);
        }, 7000);
      }

      const carousel = document.getElementById('reviewCarousel');
      carousel.addEventListener('mouseenter', ()=>paused=true);
      carousel.addEventListener('mouseleave', ()=>paused=false);
      carousel.addEventListener('touchstart', ()=>paused=true, {passive:true});
      carousel.addEventListener('touchend', ()=>paused=false, {passive:true});

      updateDots();
      start();

      carouselController = {
        destroy(){
          if(timer) clearInterval(timer);
          timer = null;
        }
      };
    }

    function renderReviews(items){
      destroyCarousel();
      reviewTrack.innerHTML = "";

      if(!items.length){
        reviewTrack.innerHTML = `
          <article class="review-card">
            <div class="top"><span>Bewertungen</span><span></span></div>
            <p class="text">Aktuell sind noch keine freigegebenen Bewertungen sichtbar.</p>
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          </article>
        `;
        initCarousel();
        return;
      }

      for(const it of items){
        const date = it.date ? escapeHtml(it.date) : "";
        reviewTrack.insertAdjacentHTML('beforeend', `
          <article class="review-card interactive">
            <div class="top">
              <span>${escapeHtml(it.name)}</span>
              <span>${date}</span>
            </div>
            <p class="text">${escapeHtml(it.text)}</p>
            <div class="stars">${escapeHtml(it.stars)}</div>
          </article>
        `);
      }

      enableTapGlow('.review-card.interactive');
      initCarousel();
    }

    async function loadReviews(){
      try{
        reviewsMeta.textContent = "Laden‚Ä¶";

        const url = SHEET_CSV_URL + (SHEET_CSV_URL.includes('?') ? '&' : '?') + 't=' + Date.now();
        const res = await fetch(url, { cache: 'no-store' });
        if(!res.ok) throw new Error("CSV fetch failed: " + res.status);

        const csvText = await res.text();
        const rows = parseCSV(csvText);
        if(rows.length < 2) throw new Error("Empty CSV");

        const headers = rows.shift();

        const idxText = findHeaderIndex(headers, h => h === 'v√©lem√©nyed' || h === 'v√©lem√©ny' || h.includes('v√©lem√©ny'));
        const idxApprove = findHeaderIndex(headers, h => h === 'megjelenhet?' || h.includes('megjelenhet'));
        const idxRating = findHeaderIndex(headers, h => h === 'mennyire' || h === 'mennyire v' || h.startsWith('mennyire'));
        const idxDate = findHeaderIndex(headers, h => h === 'submitted at' || h.includes('submitted'));
        const idxName = findHeaderIndex(headers, h => h === 'n√©v' || h === 'name' || h.includes('n√©v'));

        if(idxText === -1 || idxApprove === -1){
          throw new Error("Missing required columns (V√©lem√©ny / Megjelenhet?)");
        }

        const items = [];
        let ratingSum = 0;
        let ratingCount = 0;

        for(const r of rows){
          const approved = normalize(r[idxApprove]);
          if(approved !== 'igen') continue;

          const text = String(r[idxText] ?? "").trim();
          if(!text) continue;

          const ratingRaw = idxRating !== -1 ? String(r[idxRating] ?? "").trim() : "";
          const ratingNum = Number(ratingRaw);
          const starsStr = stars(ratingNum);

          if(Number.isFinite(ratingNum)){
            ratingSum += Math.max(1, Math.min(5, ratingNum));
            ratingCount += 1;
          }

          const dateRaw = idxDate !== -1 ? String(r[idxDate] ?? "").trim() : "";
          const date = dateRaw ? dateRaw.replace("T"," ").replace("Z","") : "";

          const nameRaw = idxName !== -1 ? String(r[idxName] ?? "").trim() : "";
          const name = nameRaw || "Gast";

          items.push({ text, stars: starsStr, date, name });
        }

        items.sort((a,b)=> (b.date || "").localeCompare(a.date || ""));

        if(ratingCount > 0){
          const avg = Math.round((ratingSum / ratingCount) * 10) / 10;
          avgText.textContent = `${avg} ‚Ä¢ ${ratingCount} Bewertungen`;
        } else {
          avgText.textContent = `${items.length} Bewertungen`;
        }

        reviewsMeta.textContent = items.length ? `${items.length} freigegebene Bewertungen` : "Keine freigegebenen Bewertungen";
        renderReviews(items.slice(0, 12));
      }catch(err){
        console.error(err);
        avgText.textContent = "‚Äî";
        reviewsMeta.textContent = "Konnte nicht geladen werden";
        renderReviews([]);
      }
    }

    refreshBtn?.addEventListener('click', loadReviews);
    loadReviews();
  </script>
</body>
</html>
